// tslint:disable-next-line:max-line-length
export const worker = `!function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n=r(3),a=r(4),o=r(5),u=function(t,e){for(var r=[],u=.9;r.length<30&&u>=.3;)r=Object(a.a)(t,u,e),u-=.05;var s=Object(n.a)(r),c=Object(o.a)(s,e);return c.sort(function(t,e){return e.peaks.length-t.peaks.length}),c}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),a=r(6);addEventListener("message",function(t){var e=t.data;try{if("analyze"===e.method){var r=e.id,o=e.params,u=o.channelData,s=o.sampleRate,c=Object(n.a)(u,s);postMessage({error:null,id:r,result:{tempo:c}})}else{if("guess"!==e.method)throw new Error('The given method "'+e.method+'" is not supported');var i=e.id,f=e.params,l=f.channelData,p=f.sampleRate,v=Object(a.a)(l,p),h=v.bpm,d=v.offset;postMessage({error:null,id:i,result:{bpm:h,offset:d}})}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(0),a=function(t,e){var r=Object(n.a)(t,e);if(0===r.length)throw new Error("The given channelData does not contain any detectable beats.");return r[0].tempo}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){var e=[];return t.forEach(function(r,n){for(var a=Math.min(t.length-n,10),o=1;o<a;o+=1)!function(a){var o=t[n+a]-r;e.some(function(t){return t.interval===o&&(t.peaks.push(r),!0)})||e.push({interval:o,peaks:[r]})}(o)}),e}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t,e,r){for(var n=[],a=t.length,o=0;o<a;o+=1)t[o]>e&&(n.push(o),o+=r/4-1);return n}},function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}r.d(e,"a",function(){return a});var a=function(t,e){var r=[];return t.forEach(function(t){for(var a=60/(t.interval/e);a<90;)a*=2;for(;a>180;)a/=2;r.some(function(e){return e.tempo===a&&(e.peaks=[].concat(n(e.peaks),n(t.peaks)),!0)})||r.push({peaks:t.peaks,tempo:a})}),r}},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(0),a=function(t,e){var r=Object(n.a)(t,e);if(0===r.length)throw new Error("The given channelData does not contain any detectable beats.");var a=r[0],o=a.peaks,u=a.tempo,s=Math.round(u),c=60/s;o.sort(function(t,e){return t-e});for(var i=o[0]/e;i>c;)i-=c;return{bpm:s,offset:i}}}]);`;
