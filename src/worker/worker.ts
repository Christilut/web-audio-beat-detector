// This is the minified and stringified code of the web-audio-beat-detector-worker package.
export const worker = `!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=16)}([function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));const r=(n,t,e)=>{const r=n.length,o=[];let u=!1;for(let f=0;f<r;f+=1)n[f]>t?u=!0:u&&(u=!1,o.push(f-1),f+=e/4-1);return u&&o.push(r-1),o},o=(n,t)=>{const e=(n=>{let t=0;const e=n.length;for(let r=0;r<e;r+=1)n[r]>t&&(t=n[r]);return t})(n),o=.3*e;let u=[],f=e-.05*e;if(e>.25)for(;u.length<30&&f>=o;)u=r(n,f,t),f-=.05*e;const a=((n,t)=>{const e=[];return n.forEach(n=>{let r=60/(n.interval/t);for(;r<90;)r*=2;for(;r>180;)r/=2;let o=!1,u=n.peaks.length;e.forEach(t=>{if(t.tempo===r&&(t.score+=n.peaks.length,t.peaks=[...t.peaks,...n.peaks],o=!0),t.tempo>r-.5&&t.tempo<r+.5){const e=2*Math.abs(t.tempo-r);u+=(1-e)*t.peaks.length,t.score+=(1-e)*n.peaks.length}}),o||e.push({peaks:n.peaks,score:u,tempo:r})}),e})((n=>{const t=[];return n.forEach((e,r)=>{const o=Math.min(n.length-r,10);for(let u=1;u<o;u+=1){const o=n[r+u]-e;t.some(n=>n.interval===o&&(n.peaks.push(e),!0))||t.push({interval:o,peaks:[e]})}}),t})(u),t);return a.sort((n,t)=>t.score-n.score),a}},function(n,t,e){"use strict";e.r(t);var r=e(2);for(var o in r)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return r[n]}))}(o);var u=e(3);for(var o in u)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return u[n]}))}(o);var f=e(4);for(var o in f)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return f[n]}))}(o);var a=e(5);for(var o in a)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return a[n]}))}(o);var i=e(6);for(var o in i)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return i[n]}))}(o);var c=e(7);for(var o in c)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return c[n]}))}(o);var s=e(8);for(var o in s)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return s[n]}))}(o);var l=e(9);for(var o in l)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return l[n]}))}(o);var d=e(10);for(var o in d)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return d[n]}))}(o)},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t,e){"use strict";e.r(t);var r=e(12);for(var o in r)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return r[n]}))}(o);var u=e(13);for(var o in u)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return u[n]}))}(o)},function(n,t){},function(n,t){},function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var r=e(0);const o=(n,t)=>{const e=Object(r.a)(n,t);if(0===e.length)throw new Error("The given channelData does not contain any detectable beats.");return e[0].tempo}},function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var r=e(0);const o=(n,t)=>{const e=Object(r.a)(n,t);if(0===e.length)throw new Error("The given channelData does not contain any detectable beats.");const{peaks:o,tempo:u}=e[0],f=Math.round(u),a=60/f;o.sort((n,t)=>n-t);let i=o[0]/t;for(;i>a;)i-=a;return{bpm:f,offset:i}}},function(n,t,e){"use strict";e.r(t);var r=e(14),o=e(15),u=e(1);for(var f in u)["default"].indexOf(f)<0&&function(n){e.d(t,n,(function(){return u[n]}))}(f);var a=e(11);for(var f in a)["default"].indexOf(f)<0&&function(n){e.d(t,n,(function(){return a[n]}))}(f);addEventListener("message",({data:n})=>{try{if("analyze"===n.method){const{id:t,params:{channelData:e,sampleRate:o}}=n,u=Object(r.a)(e,o);postMessage({error:null,id:t,result:{tempo:u}})}else{if("guess"!==n.method)throw new Error('The given method "'.concat(n.method,'" is not supported'));{const{id:t,params:{channelData:e,sampleRate:r}}=n,{bpm:u,offset:f}=Object(o.a)(e,r);postMessage({error:null,id:t,result:{bpm:u,offset:f}})}}}catch(t){postMessage({error:{message:t.message},id:n.id,result:null})}})}]);`; // tslint:disable-line:max-line-length
